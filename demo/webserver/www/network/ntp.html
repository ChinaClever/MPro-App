<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>PDU</title>
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap.min.css" />	
<link rel="stylesheet" href="../css/font-awesome.min.css">
<link rel="stylesheet" href="../css/style.css" />
<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

<style type="text/css">
.panel-default{
            border: none;
            border-radius: 0px;
            margin-bottom: 0px;
            box-shadow: none;
            -webkit-box-shadow: none;
}

.panel-default > .panel-heading{
	color: #222;
	font-size:13px;
	background-color: #fff;
	border-color: #e6e6e6;
	padding: 10px 12px;
}

body{ 
	
	background: #fafafa;
}

tr{
	height:28px;
}
</style>
<script>
	var flag;
	$(document).ready(function () {
			$.ajax({
				dataType:"text",
				url:"/npmslavelist",
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					flag = parseInt(gv[0]);
					LangFun();
				}
			});
	
			$.ajax({
				dataType:"text",
				url:"/getntpinfo",
				async:true,
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					
					if(gv[3]=="0\n")
					{
						document.getElementById("ntp").value = "1";
					}
					else
					{
						document.getElementById("ntp").value = "0";
					}
					document.getElementById("ntps").value = gv[1];
					document.getElementById("port").value = gv[0];
					var zone= gv[2].replace("\n","");
					document.getElementById("zone").value = zone;
					document.getElementById("localtime").innerHTML = gv[4]+"&nbsp;&nbsp;&nbsp;&nbsp;"+gv[5];
				}
			});
		});
		
	function ntpsync()
	{
		var ntps=document.getElementById("ntps").value;
		var port=document.getElementById("port").value;
		var zone=document.getElementById("zone").value;
		$.ajax({
				dataType:"text",
				url:"/ntpsync?id1="+ntps+"&id2="+port+"&id3="+zone+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(sta=="flase")
					{
						if(flag==0)
							alert("No permission!");
						else
							alert("不允许!");
						return;
					}
					window.location.reload();
				}
		});
	}
	function saventp()
	{
		var ntp=document.getElementById("ntp").value;
		var ntps=document.getElementById("ntps").value;
		var port=document.getElementById("port").value;
		var zone=document.getElementById("zone").value;
		$.ajax({
				dataType:"text",
				url:"/setntp?id1="+ntp+"&id2="+ntps+"&id3="+port+"&id4="+zone+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(sta=="flase")
					{
						if(flag==0)
							alert("No permission!");
						else
							alert("不允许!");
					}
				}
		});
	}

	function savetm()
	{
		var tm1=document.getElementById("tm1").value;
		var tm2=document.getElementById("tm2").value;
		$.ajax({
				dataType:"text",
				url:"/settm?id1="+tm1+"&id2="+tm2+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(sta=="flase")
					{
						if(flag==0)
							alert("No permission!");
						else
							alert("不允许!");
					}
				}
		});
	}
	
		
	function localtime()
	{
		var now=new Date();  
		var data=1900+now.getYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();
		var time=now.getHours()+":"+now.getMinutes()+":"+now.getSeconds();
		document.getElementById("tm1").value=data;
		document.getElementById("tm2").value=time;
	}
	
	function LangFun()
	{
		var lang_1  = ["NTP service", "NTP服务", "Services NTP", "служба NTP", "Servicios NT", "خدمة NTP"];
		var lang_2  = ["NTP setting", "NTP设置", "Paramètres NTP", "Настройки NTP", "Configuración NP", "إعدادات NTP"];
		var lang_3  = ["Local Time:", "本机时间:", "Heure locale", "собственное время", "Tiempo de funcionamiento", "التوقيت المحلي"];
		var lang_4  = ["NTP Setting", "NTP设置:", "Paramètres NTP", "Настройки NTP", "Configuración NP", "إعدادات NTP"];
		var lang_5  = ["Enable", "开启", "Activer", "открыть", "Abrir", "فتح"];
		var lang_6  = ["Disable", "禁用", "Interdire", "Отключить", "Desactivar", "تعطيل"];
		var lang_7  = ["NTP Server:", "NTP服务器:", "Serveur NTP", "Сервер NTP", "Servidor web", "خادم NTP"];
		var lang_8  = ["Server port:", "端口:", "Server port", "порт", "Puerto", "ميناء"];
		var lang_9  = ["Time Zone Select:", "时区选择:", "Sélection de zone temporelle", "выбор часового пояса", "Zona horaria", "اختيار المنطقة الزمنية"];
		var lang_10 = ["Save", "保存", "Enregistrer", "Сохранить", "Guardar", "تخزين"];
		var lang_11 = ["Sync", "同步", "Expert comptable agréé", "синхронизация", "Sincronización", "متزامن"];
		var lang_12 = ["User-defined setting", "自定义设置", "Paramètres personnalisés", "Настройка", "Configuración personalizada", "إعدادات مخصصة"];
		var lang_13 = ["Date:", "日期:", "Date", "дата", "Fecha", "تاريخ"];
		var lang_14 = ["Date Format:", "日期格式:", "Format de date", "формат даты", "Formato de fecha", "تنسيق التاريخ"];
		var lang_15 = ["Year-Month-Day(2012-07-12)", "年-月-日（如2012-07-12）", "Year-Month-Day(2012-07-12)", "год - месяц - день(2012-07-12)", "Año - mes - día(2012-07-12)", "السنة - شهر - يوم(2012-07-12)"];
		var lang_16 = ["Time:", "时钟:", "Horloge", "Time", "Reloj", "على مدار الساعة"];
		var lang_17 = ["Time Format:", "时钟格式:", "Format d 'horloge", "формат часов", "Formato del reloj", "تنسيق الساعة"];
		var lang_18 = ["Hour:Minute:Second(12:01:00)", "时:分:秒（如12:01:00）", "Hour:Minute:Second(12:01:00)", "время: секундаd(12:01:00)", "Hora: minutos: segundos(12:01:00)", "الساعة: الدقيقة: الثانية(12:01:00)"];
		var lang_19 = ["Get local time", "获取本地时间", "Local time Acquisition", "местное время", "Hora local", "الحصول على التوقيت المحلي"];
		var lang_21 = ["(Only available when PDU is connected to WAN network)", "(仅在连接到WAN网络时可用)","(Uniquement disponible lorsqu'il est connecté à un réseau WAN)","(Доступно только при подключении к сети WAN)", "(Solo disponible cuando está conectado a una red WAN)", "(متاح فقط عند الاتصال بشبكة WAN)"];

		document.getElementById("lang_1") .innerHTML = lang_1[flag];
		document.getElementById("lang_2") .innerHTML = lang_2[flag];
		document.getElementById("lang_3") .innerHTML = lang_3[flag];
		document.getElementById("lang_4") .innerHTML = lang_4[flag];
		document.getElementById("lang_5") .innerHTML = lang_5[flag];
		document.getElementById("lang_6") .innerHTML = lang_6[flag];
		document.getElementById("lang_7") .innerHTML = lang_7[flag];
		document.getElementById("lang_8") .innerHTML = lang_8[flag];
		document.getElementById("lang_9") .innerHTML = lang_9[flag];
		document.getElementById("lang_10").value	 = lang_10[flag];
		document.getElementById("lang_11").value     = lang_11[flag];
		document.getElementById("lang_12").innerHTML = lang_12[flag];
		document.getElementById("lang_13").innerHTML = lang_13[flag];
		document.getElementById("lang_14").innerHTML = lang_14[flag];
		document.getElementById("lang_15").innerHTML = lang_15[flag];
		document.getElementById("lang_16").innerHTML = lang_16[flag];
		document.getElementById("lang_17").innerHTML = lang_17[flag];
		document.getElementById("lang_18").innerHTML = lang_18[flag];
		document.getElementById("lang_19").value 	 = lang_10[flag];
		document.getElementById("lang_20").value	 = lang_19[flag];
		document.getElementById("lang_21").innerHTML = lang_21[flag];
	}
</script>
</head>
<body>
<div style="padding: 0px; margin-bottom: 0.8%; overflow: hidden; ">
	<div class="box" style="float: left; width: 100%; margin-bottom: 0.8%; height:96%; background:#e7e7e7;">
		<div class="panel panel-default">
			<div class="panel-heading" ><i class="fa fa-th-list fa-lg" style="padding-right: 5px;" ></i ><span id="lang_1"></span></div>			
		</div>
		
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:220px; background:#ffffff; ">		
			<table width="100%" border="0" style="font-size:12px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_2"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" height="25px" id="lang_3"></td>
				<td id="localtime"></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_4"></td>
				<td><select id="ntp" style="width:200px;">
				<option value="0" id="lang_5"></option>
				<option value="1" id="lang_6"></option>
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_7"></td>
				<td><input id="ntps" style="width:200px;"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_8"></td>
				<td><input id="port" style="width:200px;"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_9"></td>
				<td><select id="zone" style="width:200px;">
				<option value="-12:00">(GMT-12:00) International Date Line West
				<option value="-11">(GMT-11:00) Midway Island, Samoa
				<option value="-10">(GMT-10:00) Hawaii
				<option value="-9">(GMT-09:00) Alaska
				<option value="-8">(GMT-08:00) Pacific Time (US & Canada);Tijuana, Baja California
				<option value="-7">(GMT-07:00) Mountain Time (US & Canada);Chihuahua, La Paz, Mazatlan;Arizona
				<option value="-6">(GMT-06:00) Saskatchewan;Central America;Central Time (US & Canada);Guadalajara, Mexico City, Monterrey
				<option value="-5">(GMT-05:00) Eastern Time (US & Canada);Bogota, Lima, Quito, Rio Branco;Indiana (East)
				<option value="-4">(GMT-04:00) Atlantic Time (Canada);Manaus;Santiago;La Paz
				<option value="-3">(GMT-03:00) Buenos Aires;Brasilia;Greenland;Montevideo;Georgetown
				<option value="-2">(GMT-02:00) Mid-Atlantic
				<option value="-1">(GMT-01:00) Azores;Cape Verde Is
				<option value="0">(GMT) Greenwich Mean Time : Dublin, Edinburgh, Lisbon, London;Monrovia, Reykjavik;Casablanca
				<option value="1">(GMT+01:00) Belgrade;Bratislava;Budapest;Ljubljana;Prague;Sarajevo;Skopje;ZagrebBrussels;Copenhagen;Madrid;Paris;West;Central;Africa;Amsterdam;Berlin;Bern;Rome;Stockholm;Vienna
				<option value="2">(GMT+02:00) Minsk;Warsaw;Cairo;Bucharest, Kyiv, Riga, Sofia, Tallinn, Vilnius;Athens, Helsinki, Istanbul;Jerusalem;Amman;Beirut;Windhoek;Harare, Pretoria
				<option value="3">(GMT+03:00) Kuwait, Riyadh;Baghdad;Nairobi;Tbilisi;Moscow, St. Petersburg, Volgograd
				<option value="4">(GMT+04:00) Abu Dhabi, Muscat;Baku;Yerevan
				<option value="5">(GMT+05:00) Ekaterinburg;Islamabad, Karachi;Tashkent
				<option value="6">(GMT+06:00) Astana, Dhaka;Almaty, Novosibirsk
				<option value="7">(GMT+07:00) Krasnoyarsk;Bangkok, Hanoi, Jakarta
				<option value="8">(GMT+08:00) Beijing, Chongqing, Hong Kong, Urumqi;Irkutsk, Ulaan Bataar;Kuala Lumpur, Singapore;Taipei;Perth
				<option value="9">(GMT+09:00) Seoul;Osaka, Sapporo, Tokyo;Yakutsk
				<option value="10">(GMT+10:00) Canberra, Melbourne, Sydney;Brisbane;Hobart;Vladivostok;Guam, Port Moresby
				<option value="11">(GMT+11:00) Magadan, Solomon Is., New Caledonia
				<option value="12">(GMT+12:00) Fiji, Kamchatka, Marshall Is.;Auckland, Wellington
				<option value="13">(GMT+13:00) Nuku'alofa
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="saventp();" id="lang_10"></input></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="ntpsync();" id="lang_11"></input></td>
			</tr>
			<tr  style="height:50px; white-space:nowrap; text-align:center;">
				<td width="10px"></td>
				<td colspan = "2" id="lang_21" style="text-align:center;"></td>
			</tr>

			</table>
		</div>
		
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:200px; background:#ffffff;">
			<table width="100%" border="0" style="font-size:12px; margin-top:10px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_12"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_13"></td>
				<td><input id="tm1" class="easyui-validatebox" type="text" style="width:200px;"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_14"></td>
				<td id="lang_15"></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_16"></td>
				<td><input id="tm2" class="easyui-validatebox" type="text" style="width:200px;"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_17"></td>
				<td id="lang_18"></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="savetm();" id="lang_19"></input></td>
				<td><input style="margin-top:10px; height:21px; width:100px;"  type="button"  onClick="localtime();" id="lang_20"></input></td>
			</tr>
			</table>
		</div>	
	</div>
</div>
</body>
</html>
