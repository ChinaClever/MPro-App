<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>PDU</title>
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap.min.css" />	
<link rel="stylesheet" href="../css/font-awesome.min.css">
<link rel="stylesheet" href="../css/style.css" />
<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

<style type="text/css">
.panel-default{
            border: none;
            border-radius: 0px;
            margin-bottom: 0px;
            box-shadow: none;
            -webkit-box-shadow: none;
}

.panel-default > .panel-heading{
	color: #222;
	font-size:13px;
	background-color: #fff;
	border-color: #e6e6e6;
	padding: 10px 12px;
}

body{ 
	
	background: #fafafa;
}

tr{
	height:28px;
}
</style>
<script>
var flag;
$(document).ready(function () {
	$.ajax({
			dataType:"text",
			url:"/npmslavelist",
			cache:false,
			success:function(sta)
			{
				var gv = new Array();
				gv=sta.split("?");
				flag = parseInt(gv[0]);
				LangFun(flag);
			}
		});

	$.ajax({
		dataType:"text",
		url:"/getsnmpinfo",
		async:true,
		cache:false,
		success:function(sta)
		{
			var gv = new Array();
			gv=sta.split("?");
			if(gv[1]=="0\n")
			{
				document.getElementById("snmp").value = "1";
			}
			else
			{
				document.getElementById("snmp").value = "0";
			}
			if(gv[2]=="0\n")
			{
				document.getElementById("snmpv3").value = "1";
			}
			else
			{
				document.getElementById("snmpv3").value = "0";
			}
			document.getElementById("rc").value = gv[3];
			document.getElementById("wc").value = gv[4];
			document.getElementById("t1").value = gv[5];
			document.getElementById("t2").value = gv[6];
			document.getElementById("location").value = gv[7];
			document.getElementById("contact").value = gv[8];
			document.getElementById("user").value = gv[9];
			document.getElementById("psd").value = gv[10];
			document.getElementById("pra").value = gv[11];
			//document.getElementById("index_ip").value = gv[12];
			//if(gv[13]==" 1\n")
			//{
			//	document.getElementById("id_channel").value = "1";
			//}
			//else if(gv[13] == " 2\n")
			//{
			//	document.getElementById("id_channel").value = "2";
			//}
			//else{
			//	document.getElementById("id_channel").value = "0";
			//}
		}
	});
});

function savesnmp()
{
	var snmp = document.getElementById("snmp").value;
	var rc = document.getElementById("rc").value;
	var wc = document.getElementById("wc").value;
	var t1 = document.getElementById("t1").value;
	var t2 = document.getElementById("t2").value;
	var location = document.getElementById("location").value;
	var contact = document.getElementById("contact").value;
	$.ajax({
			dataType:"text",
			url:"/setsnmp?id1="+snmp+"&id2="+rc+"&id3="+wc+"&id4="+t1+"&id5="+t2+"&id6="+location+"&id7="+contact+"&",
			async:true,
			cache:false,
			success:function(sta)
			{
				if(flag==0)
				{
					if(sta=="flase")
					{
						alert("No permission!");
					}
					else if(sta=="err1")
					{
						alert("Configuration Error!");
					}
					else
					{
						alert("Settings success, please restart the device!");
					}
				}
				else
				{
					if(sta=="flase")
					{
						alert("不允许!");
					}
					else if(sta=="err1")
					{
						alert("设置错误!");
					}
					else
					{
						alert("设置成功，请重启设备!");
					}
				}
			}
		});
}
function savesnmpv3()
{
	var snmp = document.getElementById("snmpv3").value;
	var user = document.getElementById("user").value;
	var psd = document.getElementById("psd").value;
	var pra = document.getElementById("pra").value;
	$.ajax({
			dataType:"text",
			url:"/setsnmpv3?id1="+snmp+"&id2="+user+"&id3="+psd+"&id4="+pra+"&",
			async:true,
			cache:false,
			success:function(sta)
			{
				if(flag==0)
				{
					if(sta=="flase")
					{
						alert("No permission!");
					}
					else if(sta=="err1")
					{
						alert("Configuration Error!");
					}
					else
					{
						alert("Settings success, please restart the device!");
					}
				}
				else
				{
					if(sta=="flase")
					{
						alert("不允许!");
					}
					else if(sta=="err1")
					{
						alert("设置错误!");
					}
					else
					{
						alert("设置成功，请重启设备!");
					}
				}
			}
		});
}

function LangFun(flag)
{
	var lang_1  = ["SNMP Server", "SNMP服务", "Service SNMP", "служба SNMP", "Servicio SNMP", "خدمة SNMP"];
	var lang_2  = ["SNMP Agent(v1/v2c)Setting", "SNMPv1/v2c设置", "Paramètres snmpv1 / v2c", "Настройки SNMPv1 / v2c", "Configuración de snmpv1 / v2c", "إعدادات SNMPv1 / v2c"];
	var lang_3  = ["SNMP agent:", "SNMP启用:", "Activation SNMP", "запуск SNMP", "Habilitar SNMP", "تمكين SNMP"];
	var lang_4  = ["Enable", "启用", "Activer", "Включено", "Activar", "مكن"];
	var lang_5  = ["Disable", "禁用", "Interdire", "Отключить", "Desactivar", "تعطيل"];
	var lang_6  = ["Write community:", "写共同体:", "Write community", "Write community", "Write community", "Write community"];
	var lang_7  = ["Read community:", "读共同体:", "Read community", "Read community", "Read community", "Read community"];
	var lang_8  = ["Trap1 address:", "Trap1地址:", "Trap1 address", "Trap1 address", "Trap1 address", "Trap1 address"];
	var lang_9  = ["Trap2 address:", "Trap2地址:", "Trap2 address", "Trap2 address", "Trap2 address", "Trap2 address"];
	var lang_10 = ["System location:", "SNMP服务器位置:", "Emplacement du serveur SNMP", "расположение сервера SNMP", "Servidor dnmp", "موقع خادم SNMP"];
	var lang_11 = ["System contact:", "SNMP节点:", "Noeud SNMP", "узел SNMP", "Nodo SNMP", "عقدة SNMP"];
	var lang_12 = ["Save", "保存", "Enregistrer", "Сохранить", "Guardar", "تخزين"];
	var lang_13 = ["Save", "SNMPv3设置", "Paramètres SNMPv3", "Настройки SNMPv3", "Configuración de snmpv3", "إعدادات SNMPv3"];
	var lang_14 = ["SNMP Agent(v3)Setting", "SNMPv3启用:", "Activation SNMPv3", "запуск SNMPv3", "Snmpv3 activado.", "تمكين SNMPv3"];
	var lang_15 = ["Enable", "启用", "Activer", "Включено", "Activar", "مكن"];
	var lang_16 = ["Disable", "禁用", "Interdire", "Отключить", "Desactivar", "تعطيل:"];
	var lang_17 = ["Password:", "账号:", "Numéro de compte:", "номер счета:", "Cuenta:", "رقم الحساب:"];
	var lang_18 = ["User-defined Setting", "密码:", "Mot de passe:", "пароль:", "Contraseña:", "كلمة المرور:"];
	var lang_19 = ["Private Key:", "私钥:", "Clé privée:", "закрытый ключ:", "Clave:", "المفتاح الخاص:"];

	document.getElementById("lang_1") .innerHTML = lang_1[flag];
	document.getElementById("lang_2") .innerHTML = lang_2[flag];
	document.getElementById("lang_3") .innerHTML = lang_3[flag];
	document.getElementById("lang_4") .innerHTML = lang_4[flag];
	document.getElementById("lang_5") .innerHTML = lang_5[flag];
	document.getElementById("lang_6") .innerHTML = lang_6[flag];
	document.getElementById("lang_7") .innerHTML = lang_7[flag];
	document.getElementById("lang_8") .innerHTML = lang_8[flag];
	document.getElementById("lang_9") .innerHTML = lang_9[flag];
	document.getElementById("lang_10").innerHTML = lang_10[flag];
	document.getElementById("lang_11").innerHTML = lang_11[flag];
	document.getElementById("lang_12").value 	 = lang_12[flag];
	document.getElementById("lang_13").innerHTML = lang_13[flag];
	document.getElementById("lang_14").innerHTML = lang_14[flag];
	document.getElementById("lang_15").innerHTML = lang_15[flag];
	document.getElementById("lang_16").innerHTML = lang_16[flag];
	document.getElementById("lang_17").innerHTML = lang_17[flag];
	document.getElementById("lang_18").innerHTML = lang_18[flag];
	document.getElementById("lang_19").innerHTML = lang_19[flag];
	document.getElementById("lang_20").value	 = lang_12[flag];
}
</script>
</head>
<body >
<div style="padding: 0px; margin-bottom: 0.8%; overflow: hidden; ">
	<div class="box" style="float: left; width: 100%; margin-bottom: 0.8%; height:96%; background:#e7e7e7;">
		<div class="panel panel-default">
			<div class="panel-heading" ><i class="fa fa-th-list fa-lg" style="padding-right: 5px;" ></i ><span id="lang_1"></span></div>			
		</div>
		
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:280px; background:#ffffff; ">		
			<table width="100%" border="0" style="font-size:12px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_2"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_3"></td>
				<td><select id="snmp" style="width:200px">
				<option value="0" id="lang_4"></option>
				<option value="1" id="lang_5"></option> 
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_6"></td>
				<td><input id="rc" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_7"></td>
				<td><input id="wc" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_8"></td>
				<td><input id="t1" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_9"></td>
				<td><input id="t2" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_10"></td>
				<td><input id="location" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_11"></td>
				<td><input id="contact" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="savesnmp();" id="lang_12"></input></td>
				<td></td>
			</tr>
			</table>
		</div>
			
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:210px; background:#ffffff;">
			<table width="100%" border="0" style="font-size:12px; margin-top:10px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_13"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_14"></td>
				<td><select id="snmpv3" style="width:200px">
				<option value="0" id="lang_15"></option>
				<option value="1" id="lang_16"></option> 
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_17"></td>
				<td><input id="user" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_18"></td>
				<td><input id="psd" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td id="lang_19"></td>
				<td><input id="pra" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="savesnmpv3();" id="lang_20"></input></td>
				<td></td>
			</tr>
			</table>
		</div>	
	</div>
</div>
</body>
</html>
