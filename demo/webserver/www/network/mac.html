<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>PDU</title>
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap.min.css" />	
<link rel="stylesheet" href="../css/font-awesome.min.css">
<link rel="stylesheet" href="../css/style.css" />
<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

<style type="text/css">
.panel-default{
            border: none;
            border-radius: 0px;
            margin-bottom: 0px;
            box-shadow: none;
            -webkit-box-shadow: none;
}

.panel-default > .panel-heading{
	color: #222;
	font-size:13px;
	background-color: #fff;
	border-color: #e6e6e6;
	padding: 10px 12px;
}

body{ 
	
	background: #fafafa;
}

tr{
	height:28px;
}

.font_input{
	text-align:center;
	height:25px;
	width:98%;
	font-size:13px; color:#1f1f1f;
	font-family: 'Times New Roman', Times, serif;
	background-color: #ffffff;
	border-bottom: #e1dfdf 0px solid;
    border-left: #93bee2 0px solid;
    border-right: #93bee2 0px solid;
    border-top: #93bee2 0px solid;
}
</style>
<script>
	var flag;
	$(document).ready(function () {
		$.ajax({
				dataType:"text",
				url:"/npmslavelist",
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					flag = parseInt(gv[0]);
					LangFun(flag);
				}
			});
	
		$.ajax({
				dataType:"text",
				url:"/getsmtpinfo",
				async:true,
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					document.getElementById("user").value = gv[0];
					document.getElementById("psd").value = gv[1];
					document.getElementById("server").value = gv[2];
					document.getElementById("port").value = gv[3];
					if(gv[4]=="0\n")
					{
						document.getElementById("auth").value="0";
					}
					else
					{
						document.getElementById("auth").value="1";
					}
				}
			});
		});
		
	function savesmtp(flag)
	{
		var user = document.getElementById("user").value;
		var psd = document.getElementById("psd").value;
		var server = document.getElementById("server").value;
		var port = document.getElementById("port").value;
		var auth = document.getElementById("auth").value;
		$.ajax({
				dataType:"text",
				url:"/setsmtp?id1="+user+"&id2="+psd+"&id3="+server+"&id4="+port+"&id5="+auth+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(flag==0)
					{
						if(sta=="flase")
						{
							alert("No permission!");
						}
						else if(sta=="err1")
						{
							alert("Incorrect settings!");
						}
					}
					else
					{
						if(sta=="flase")
						{
							alert("不允许!");
						}
						else if(sta=="err1")
						{
							alert("设置错误!");
						}
					}
				}
			});
	}
	function testsend(flag)
	{
		var user = document.getElementById("user").value;
		var psd = document.getElementById("psd").value;
		var server = document.getElementById("server").value;
		var port = document.getElementById("port").value;
		var auth = document.getElementById("auth").value;
		var sendto = document.getElementById("sendto").value;
		$.ajax({
				dataType:"text",
				url:"/smtptest?id1="+user+"&id2="+psd+"&id3="+server+"&id4="+port+"&id5="+auth+"&id6="+sendto+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(flag==0)
					{
						if(sta=="flase")
						{
							alert("No permission!");
						}
						else if(sta=="err1")
						{
							alert("Incorrect settings!");
						}
					}
					else
					{
						if(sta=="flase")
						{
							alert("不允许!");
						}
						else if(sta=="err1")
						{
							alert("设置错误!");
						}
					}
				}
			});
	}
	
	//添加行
	function addTable()
	{
		var tab=document.getElementById("viewTabs"); //获得表格
		var colsNum=tab.rows.item(0).cells.length; //表格的列数
		//表格当前的行数 
		var num=document.getElementById("viewTabs").rows.length;
		if(num>11)
			return;
		var rownum=num;
		tab.insertRow(rownum);
		for(var i=0;i<4; i++)
		{
			tab.rows[rownum].insertCell(i);//插入列
			tab.rows[rownum].cells[i].style.textAlign="center";	//元素居中
			if(i==0)
			{
			//	tab.rows[rownum].cells[i].innerHTML='<input name="productName" type="text"/>';
				tab.rows[rownum].cells[i].innerHTML=num-1;
			}
			else if(i==1)
			{
			//	tab.rows[rownum].cells[i].innerHTML='<input name="productNumber" type="text"/>';
				tab.rows[rownum].cells[i].innerHTML='<input class="font_input" type="text"/>';
			}
			else if(i==2)
			{
				//tab.rows[rownum].cells[i].innerHTML='<input name="quantity" type="text"/>';
				tab.rows[rownum].cells[i].innerHTML='<input class="font_input" type="text"/>'
			}
			else
			{
				tab.rows[rownum].cells[i].innerHTML='<input name="weight" type="checkbox"/>';
			}
		}
	//	tab.rows[rownum].insertCell(i);
	//	tab.rows[rownum].cells[i].innerHTML='<a href="#" onclick="delRow(this)">删除行</a>';
	}
	
	function LangFun(flag)
	{
		var lang_1  = ["MAC address filter chamber","MAC地址滤池", "MAC address filter chamber", "MAC адресный фильтр", "Mac dirección filtro", "تصفية عنوان MAC"];
		var lang_2  = ["MAC setting", "MAC设置", "MAC setting", "MAC setting", "Preferencias Mac", "إعدادات MAC"];
		var lang_3  = ["MAC address filtering:", "MAC地址滤池功能:", "MAC address filtering", "функция фильтра адреса MAC", "Mac dirección filtro", "وظيفة تصفية عنوان MAC"];
		var lang_4  = ["Disable", "不启用", "Interdire", "не включено", "No activo", "غير ممكّن"];
		var lang_5  = ["Enable", "启用", "Activer", "Включено", "Activar", "مكن"];
		var lang_6  = ["Filter chamber list", "滤池列表", "Filter chamber list", "Список фильтров", "Lista de filtros", "Filter chamber list"];
		var lang_7  = ["No.", "序号", "Numéro de série", "порядковый номер", "Número", "الرقم التسلسلي"];
		var lang_8  = ["Device name", "名称", "Nom", "имя", "Nombre", "اسم"];
		var lang_9  = ["MAC address", "MAC地址", "Adresse MAC", "MAC - адрес", "Dirección MAC", "عنوان MAC"];
		var lang_10 = ["Select", "选取", "Choisir", "выборка", "Seleccionar", "اختر"];
		var lang_11 = ["Add", "新增", "Ajouter", "Добавить", "Adición", "جديد"];
		var lang_12 = ["Delete", "删除", "Delete", "Удалить", "Eliminar", "حذف"];
		var lang_13 = ["Reset", "重置", "RESET", "сбросить", "Sustitución", "إعادة تعيين"];
		var lang_14 = ["Submit", "提交", "Submit", "представление", "Submit", "عرض"];

		document.getElementById("lang_1") .innerHTML = lang_1[flag];
		document.getElementById("lang_2") .innerHTML = lang_2[flag];
		document.getElementById("lang_3") .innerHTML = lang_3[flag];
		document.getElementById("lang_4") .innerHTML = lang_4[flag];
		document.getElementById("lang_5") .innerHTML = lang_5[flag];
		document.getElementById("lang_6") .innerHTML = lang_6[flag];
		document.getElementById("lang_7") .innerHTML = lang_7[flag];
		document.getElementById("lang_8") .innerHTML = lang_8[flag];
		document.getElementById("lang_9") .innerHTML = lang_9[flag];
		document.getElementById("lang_10") .innerHTML = lang_10[flag];
		document.getElementById("lang_11").value	 = lang_11[flag];
		document.getElementById("lang_12").value	 = lang_12[flag];
		document.getElementById("lang_13").value	 = lang_13[flag];
		document.getElementById("lang_14").value	 = lang_14[flag];
	}
</script>
</head>
<body>
<div style="padding: 0px; margin-bottom: 0.8%; overflow: hidden; ">
	<div class="box" style="float: left; width: 100%; margin-bottom: 0.8%; height:96%; background:#e7e7e7;">
		<div class="panel panel-default">
			<div class="panel-heading" ><i class="fa fa-th-list fa-lg" style="padding-right: 5px;" ></i ><span id="lang_1"></span></div>			
		</div>
		
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:80px; background:#ffffff; ">		
			<table width="100%" border="0" style="font-size:12px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_2"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_3"></td>
				<td><select id="auth" style="width:200px">
				<option value="0" id="lang_4"></option>
				<option value="1" id="lang_5"></option> 
				</select></td>
			</tr>
			</table>
		</div>

		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:400px; background:#ffffff;">
			<table width="50%" border="2" style="font-size:12px;" id="viewTabs" >
	
			<tr>
				<th colspan = " 4 " width="120" id="lang_6" align="center"></th>
			</tr>
			<tr>
				<th width="4%" id="lang_7"></th>
				<th width="20%" id="lang_8"></th>
				<th width="20%" id="lang_9"></th>
				<th width="4%" id="lang_10" style="margin-left:80%;"></th>
			</tr>
			
			</table>
			<br/>
			<table width="50%" border="0" style="font-size:12px;" >
			<tr >
				<td align="center">
				<input style="position:relative; height:21px; width:50px; margin-right:7%;"  type="button" onClick="addTable();" id="lang_11"></input>
				<input style="position:relative; height:21px; width:50px; margin-right:7%;"  type="button" onClick="setdata();" id="lang_12"></input>
				<input style="position:relative; height:21px; width:50px; margin-right:7%;"  type="button" onClick="setdata();" id="lang_13"></input>
				<input style="position:relative; height:21px; width:50px; margin-right:7%;"  type="button" onClick="setdata();" id="lang_14"></input>
				</td>
			</tr>
			</table>
		</div>	
	</div>
</div>
</body>
</html>

