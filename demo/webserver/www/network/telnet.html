<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>PDU</title>
<link rel="stylesheet" href="../js/bootstrap/css/bootstrap.min.css" />	
<link rel="stylesheet" href="../css/font-awesome.min.css">
<link rel="stylesheet" href="../css/style.css" />
<script type="text/javascript" src="../js/jquery-1.8.3.min.js"></script>

<style type="text/css">
.panel-default{
            border: none;
            border-radius: 0px;
            margin-bottom: 0px;
            box-shadow: none;
            -webkit-box-shadow: none;
}

.panel-default > .panel-heading{
	color: #222;
	font-size:13px;
	background-color: #fff;
	border-color: #e6e6e6;
	padding: 10px 12px;
}

body{ 
	
	background: #fafafa;
}

tr{
	height:28px;
}
</style>
<script>
var flag;
$(document).ready(function () {
			$.ajax({
						dataType:"text",
						url:"/npmslavelist",
						cache:false,
						success:function(sta)
						{
							var gv = new Array();
							gv=sta.split("?");
							flag = parseInt(gv[0]);
							LangFun();
						}
					});

			$.ajax({
					dataType:"text",
					url:"/gettelnet",
					async:true,
					cache:false,
					success:function(sta)
					{
						var gv = new Array();
						gv=sta.split("?");
						if(gv[0]=="1")
							{document.getElementById("tel").value=0}
						else
							{document.getElementById("tel").value=1;}
						document.getElementById("tnm").value = gv[1];
						document.getElementById("tpsd").value = gv[2];
						document.getElementById("tport").value = gv[3];
					}
				});
			
			$.ajax({
					dataType:"text",
					url:"/getssh",
					async:true,
					cache:false,
					success:function(sta)
					{
						var gv = new Array();
						gv=sta.split("?");
						if(gv[0]=="1")
							{document.getElementById("ssh").value=0;}
						else	
							{document.getElementById("ssh").value=1;}
						document.getElementById("snm").value = gv[1];
						document.getElementById("spsd").value = gv[2];
						document.getElementById("sport").value = gv[3];
					}
				});
		});

		
	function savetelnet()
	{
		var tel = document.getElementById("tel").value;
		var nm = document.getElementById("tnm").value;
		var psd = document.getElementById("tpsd").value;
		var port = document.getElementById("tport").value;
		$.ajax({
				dataType:"text",
				url:"/settelnet?id1="+tel+"&id2="+nm+"&id3="+psd+"&id4="+port+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(flag==0)
					{
						if(sta=="flase")
						{
							alert("No permission!");
						}
						else if(sta=="err1")
						{
							alert("Configuration Error!");
						}
						else
						{
							alert("Settings success, please restart the device!");
						}
					}
					else
					{
						if(sta=="flase")
						{
							alert("不允许!");
						}
						else if(sta=="err1")
						{
							alert("设置错误!");
						}
						else
						{
							alert("设置成功，请重启设备!");
						}
					}
				}
			});
	}

	function savessh()
	{
		var tel = document.getElementById("ssh").value;
		var nm = document.getElementById("snm").value;
		var psd = document.getElementById("spsd").value;
		var port = document.getElementById("sport").value;
		
		var str=/^[0-9A-Za-z_]*$/;
		
		//名字、密码只能为数字、字母和下划线
		if(str.test(nm))
		{
		
		}else
		{
			if(flag==0)
				alert("Settings Error!");
			else
				alert("设置错误!");
			return ;
		}
		if(str.test(psd))
		{

		}else
		{
			if(flag==0)
				alert("Settings Error!");
			else
				alert("设置错误!");
			return ;
		}
		$.ajax({
				dataType:"text",
				url:"/setssh?id1="+tel+"&id2="+nm+"&id3="+psd+"&id4="+port+"&",
				async:true,
				cache:false,
				success:function(sta)
				{
					if(flag==0)
					{
						if(sta=="flase")
						{
							alert("No permission!");
						}
						else if(sta=="err1")
						{
							alert("Settings Error!");
						}
						else
						{
							alert("Settings success, please restart the device!");
						}
					}
					else
					{
						if(sta=="flase")
						{
							alert("不允许!");
						}
						else if(sta=="err1")
						{
							alert("设置错误!");
						}
						else
						{
							alert("设置成功，请重启设备!");
						}
					}
				}
			});
	}

	function LangFun()
	{
		var lang_1  = ["Telnet/SSH Service", "Telnet/SSH服务", "Services telnet / SSH", "служба Telnet / SSH", "Servicios de telnet / SSH", "خدمة Telnet / SSH"];
		var lang_2  = ["Telnet Setting", "Telnet设置", "Paramètres Telnet", "Настройки Telnet", "Configuración de telnet", "إعدادات Telnet"];
		var lang_3  = ["Telnet Service:", "Telnet服务器:", "Serveur Telnet", "Сервер Telnet", "Servidor telnet", "خادم Telnet"];
		var lang_4  = ["Enable", "启用", "Activer", "Включено", "Activar", "مكن"];
		var lang_5  = ["Disable", "不启用", "Désactiver", "не включено", "No activo", "غير ممكّن"];
		var lang_6  = ["Telnet user:", "Telnet用户:", "Utilisateur Telnet", "пользователь telnet", "Usuarios de telnet", "مستخدم Telnet"];
		var lang_7  = ["Telnet password:", "Telnet密码:", "Société de télécommunications", "пароль telnet", "Código de telnet", "كلمة مرور Telnet"];
		var lang_8  = ["Telnet port:", "Telnet端口:", "Réseau téléphonique", "порт Telnet", "Puerto de telnet", "منفذ Telnet"];
		var lang_9  = ["Save", "保存", "Enregistrer", "Сохранить", "Guardar", "تخزين"];
		var lang_10 = ["SSH Setting", "SSH设置", "Paramètres SSH", "Настройки SSH", "Configuración SSH", "إعدادات SSH"];
		var lang_11 = ["SSH Service:", "SSH服务器:", "Serveur SSH", "Сервер SSH", "Servidor SSH", "خادم SSH"];
		var lang_12  = ["Enable", "启用", "Activer", "Включено", "Activar", "مكن"];
		var lang_13  = ["Disable", "不启用", "Désactiver", "не включено", "No activo", "غير ممكّن"];
		var lang_14  = ["SSH user:", "SSH用户:", "Utilisateur SSH", "пользователь SSH", "SSH user", "SSH المستخدم"];
		var lang_15 = ["SSH password:", "SSH密码:", "SSH password", "пароль SSH", "Código SSH", "SSH كلمة المرور"];
		var lang_16 = ["SSH port:", "SSH端口:", "Port SSH", "порт SSH", "Puerto SSH", "منفذ SSH"];

		document.getElementById("lang_1") .innerHTML = lang_1[flag];
		document.getElementById("lang_2") .innerHTML = lang_2[flag];
		document.getElementById("lang_3") .innerHTML = lang_3[flag];
		document.getElementById("lang_4") .innerHTML = lang_4[flag];
		document.getElementById("lang_5") .innerHTML = lang_5[flag];
		document.getElementById("lang_6") .innerHTML = lang_6[flag];
		document.getElementById("lang_7") .innerHTML = lang_7[flag];
		document.getElementById("lang_8") .innerHTML = lang_8[flag];
		document.getElementById("lang_9") .value	 = lang_9[flag];
		document.getElementById("lang_10").innerHTML = lang_10[flag];
		document.getElementById("lang_11").innerHTML = lang_11[flag];
		document.getElementById("lang_12").innerHTML = lang_12[flag];
		document.getElementById("lang_13").innerHTML = lang_13[flag];
		document.getElementById("lang_14").innerHTML = lang_14[flag];
		document.getElementById("lang_15").innerHTML = lang_15[flag];
		document.getElementById("lang_16").innerHTML = lang_16[flag];
		document.getElementById("lang_17").value	 = lang_9[flag];
	}
</script>
</head>
<body>
<div style="padding: 0px; margin-bottom: 0.8%; overflow: hidden; ">
	<div class="box" style="float: left; width: 100%; margin-bottom: 0.8%; height:96%; background:#e7e7e7;">
		<div class="panel panel-default">
			<div class="panel-heading" ><i class="fa fa-th-list fa-lg" style="padding-right: 5px;" ></i ><span id="lang_1"></span></div>			
		</div>
		
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:205px; background:#ffffff; ">		
			<table width="100%" border="0" style="font-size:12px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_2"></td>
				<td></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120"  id="lang_3"></td>
				<td ><select id="tel" style="width:200px">
				<option value="0" id="lang_4"></option>
				<option value="1" id="lang_5"></option>
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_6"></td>
				<td><input id="tnm" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_7"></td>
				<td><input id="tpsd" type="password" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_8"></td>
				<td><input id="tport" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="savetelnet();" id="lang_9"></input></td>
				<td></td>
			</tr>
			</table>
		</div>
			
		<div style="border:1px solid;border-color: #ffffff; margin:10px; height:205px; background:#ffffff;">
			<table width="100%" border="0" style="font-size:12px; margin-top:10px;">
			<tr>
				<td width="10px"></td>
				<td width="120" id="lang_10"></td>
				<td></td>
			</tr>		
			<tr >
				<td width="10px"></td>
				<td width="120" nowrap id="lang_11"></td>
				<td><select id="ssh" style="width:200px">
				<option value="0" id="lang_12"></option>
				<option value="1" id="lang_13"></option>
				</select></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_14"></td>
				<td><input id="snm" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_15"></td>
				<td><input id="spsd" type="password" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td width="120" nowrap id="lang_16"></td>
				<td><input id="sport" style="width:200px"></input></td>
			</tr>
			<tr>
				<td width="10px"></td>
				<td><input style="margin-top:10px; height:21px; width:50px;"  type="button"  onClick="savessh();" id="lang_17"></input></td>
				<td></td>
			</tr>
			</table>
		</div>	
	</div>
</div>
</body>
</html>
