<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>PDU</title>
<script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="js/my.js"></script>

<style type="text/css">
html{overflow-x:hidden;}
</style>

<script>

//window.setInterval("count();", 10000);
	
// 监听鼠标按下
function test1(){  
	$.ajax({
				dataType:"text",
				url:"/test1",
				cache:false,
				success:function(sta)
				{
					
				}
		});
}
 
//监听鼠标移动
function test2(){ 
	$.ajax({
				dataType:"text",
				url:"/test2",
				cache:false,
				success:function(sta)
				{
					
				}
		});
}
 
//监听键盘
function test3() {
	$.ajax({
				dataType:"text",
				url:"/test3",
				cache:false,
				success:function(sta)
				{
					
				}
		});
}
	
function count() {    
	$.ajax({
				dataType:"text",
				url:"/timercount",
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					var cnt = parseInt(gv[0]);
					if(cnt <= 0)
					{
						delCookie("username");
						window.parent.location.href="/login.html";
					}
				}
		});
}

	$(document).ready(function () {
		$.ajax({
				dataType:"text",
				url:"/gethw",
				cache:false,
				success:function(sta)
				{
					var gv = new Array();
					gv=sta.split("?");
					var a1= gv[0].replace("\n","");
					document.getElementById("a1").value=a1;	//型号
					var a2= gv[1].replace("\n","");
					document.getElementById("a2").value=a2;	//硬件版本
					var a3= gv[2].replace("\n","");
					document.getElementById("a3").value=a3;	//通信协议版本
					var a4= gv[3].replace("\n","");
					document.getElementById("a4").value=a4;	//额定电压
					var a5= gv[4].replace("\n","");
					document.getElementById("a5").value=a5;	//额定电流
					var a6= gv[5].replace("\n","");
					document.getElementById("a6").value=a6;	//额定功率
					var a7= gv[6].replace("\n","");
					document.getElementById("a7").value=a7;	//相位数
					var a8= gv[7].replace("\n","");
					document.getElementById("a8").value=a8;	//断路器类型
					var a9= gv[8].replace("\n","");
					document.getElementById("a9").value=a9;	
				}
			});
			
		$.ajax({
				dataType:"text",
				url:"/getratedoutput",
				cache:false,
				success:function(sta)
				{
					var i;
					var gv = new Array();
					gv=sta.split("?");
					for(i=1; i<49; i++)
					{
						var tem = gv[i-1].replace("\n","");
						document.getElementById("b"+i).value=tem;
					}
					
				}
			});
	});

function sethw()
{
	var a1=document.getElementById("a1").value;		//型号
	var a2=document.getElementById("a2").value;		//硬件版本
	var a3=document.getElementById("a3").value;		//通信协议版本
	var a4=document.getElementById("a4").value;		//额定电压
	if(a4 == 0)
		a4 = 220;
	else
		a4 = 380;
	var a5=document.getElementById("a5").value;		//额定电流
	if(a5 == 0)
		a5 = 16;
	else if(a5 == 1)
		a5 = 32;
	else if(a5 == 2)
		a5 = 63;
	var a6=document.getElementById("a6").value;		//额定功率
	var a7=document.getElementById("a7").value;		//相位数
	var a8=document.getElementById("a8").value;		//断路器类型
	if(a8 == 0)
		a8 = 16;
	else if(a8 == 1)
		a8 = 20;
	var a9=document.getElementById("a9").value;		

	$.ajax({
			dataType:"text",
			url:"/sethw?id1="+a1+"&id2="+a2+"&id3="+a3+"&id4="+a4+"&id5="+a5+"&id6="+a6+"&id7="+a7+"&id8="+a8+"&id9="+a9+"&",
			cache:false,
			success:function(sta)
			{
				window.location.reload();
			}
		});
}

function setratedoutput()
{
	var i;		
	var tem = new Array(48);
	var val = new Array(48);

	for(i=1; i<49; i++)
	{
		tem[i-1] = document.getElementById("b"+i).value;
		if(tem[i-1] == 0)
			val[i-1] = 100;
		else
			val[i-1] = 160;
	}

	$.ajax({
			dataType:"text",
			url:"/setratedoutput?id1="+val[0]+"&id2="+val[1]+"&id3="+val[2]+"&id4="+val[3]+"&id5="+val[4]+"&id6="+val[5]+"&id7="+val[6]+"&id8="+val[7]+"&id1="+val[8]+"&id1="+val[9]+"&id1="+val[10]+"&id1="+val[11]+"&id1="+val[12]+"&id1="+val[13]+"&id1="+val[14]+"&id1="+val[15]+"&id1="+val[16]+"&id1="+val[17]+"&id1="+val[18]+"&id1="+val[19]+"&id1="+val[20]+"&id1="+val[21]+"&id1="+val[22]+"&id1="+val[23]+"&id1="+val[24]+"&id1="+val[25]+"&id1="+val[26]+"&id1="+val[27]+"&id1="+val[28]+"&id1="+val[29]+"&id1="+val[30]+"&id1="+val[31]+"&id1="+val[32]+"&id1="+val[33]+"&id1="+val[34]+"&id1="+val[35]+"&id1="+val[36]+"&id1="+val[37]+"&id1="+val[38]+"&id1="+val[39]+"&id1="+val[40]+"&id1="+val[41]+"&id1="+val[42]+"&id1="+val[43]+"&id1="+val[44]+"&id1="+val[45]+"&id1="+val[46]+"&id1="+val[47]+"&",
			cache:false,
			success:function(sta)
			{
				window.location.reload();
			}
		});
}

</script>
</head>

<body bgcolor="#ffffff" >
<div align=left style="position:absolute; width:1300px;">
<div>       
<h3>出厂配置</h3>
<h4>基本信息设置</h4>
<table width="100%" border="0" style="font-size:12px;">
	<tr>
		<td width="10px"></td>
        <td width="80">型号:</td>
        <td colspan="2"><input id="a1" style="width:200px" ></input></td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td width="80">硬件版本:</td>
        <td colspan="2"><input id="a2" style="width:200px" ></input>（范围：A~Z）</td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td width="80">通信协议版本:</td>
        <td colspan="2"><input id="a3" style="width:200px" ></input>（范围：256~2457，即0x100~0x999）</td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td>额定电压:</td>
        <td colspan="2"><select id="a4" style="width:200px">
        <option value="0">220</option>
        <option value="1">380</option> 
        </select>（V）</td>
    </tr>
		<tr>
		<td width="10px"></td>
        <td>额定电流:</td>
        <td colspan="2"><select id="a5" style="width:200px">
        <option value="0">16</option>
        <option value="1">32</option> 
		<option value="2">63</option> 
        </select>（A）</td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td width="80">额定功率:</td>
        <td colspan="2"><input id="a6" style="width:200px" ></input></td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td>相位数:</td>
        <td colspan="2"><select id="a7" style="width:200px">
        <option value="1">单相</option>
        <option value="2">双火线</option> 
		<option value="3">三相</option> 
        </select></td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td>断路器类型:</td>
        <td colspan="2"><select id="a9" style="width:200px">
        <option value="0">16</option>
        <option value="1">20</option>
        </select>（A）</td>
    </tr>
	<tr>
		<td width="10px"></td>
        <td>漏电检测:</td>
        <td colspan="2"><select id="a8" style="width:200px">
        <option value="0">否</option>
        <option value="1">是</option>
        </select></td>
    </tr>
		<tr>
		<td width="10px"></td>
		<td width="80"></td>
		<td width="135"></td>
		<td ><input style="height:22px; width:60px;"  type="button"  onClick="sethw();"  value="保存"></input></td>
	</tr>
</table>
</br>
<h4>输出位额定电流设置</h4>
<table width="100%" border="0" style="font-size:12px;">

	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位1：</td>
		<td><select id="b1" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位2：</td>
		<td><select id="b2" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位3：</td>
		<td><select id="b3" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位4：</td>
		<td><select id="b4" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位5：</td>
		<td><select id="b5" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位6：</td>
		<td><select id="b6" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位7：</td>
		<td><select id="b7" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位8：</td>
		<td><select id="b8" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位9：</td>
		<td><select id="b9" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位10：</td>
		<td><select id="b10" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位11：</td>
		<td><select id="b11" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位12：</td>
		<td><select id="b12" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位13：</td>
		<td><select id="b13" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位14：</td>
		<td><select id="b14" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位15：</td>
		<td><select id="b15" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位16：</td>
		<td><select id="b16" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位17：</td>
		<td><select id="b17" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位18：</td>
		<td><select id="b18" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位19：</td>
		<td><select id="b19" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位20：</td>
		<td><select id="b20" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位21：</td>
		<td><select id="b21" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位22：</td>
		<td><select id="b22" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位23：</td>
		<td><select id="b23" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位24：</td>
		<td><select id="b24" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位25：</td>
		<td><select id="b25" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位26：</td>
		<td><select id="b26" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位27：</td>
		<td><select id="b27" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位28：</td>
		<td><select id="b28" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位29：</td>
		<td><select id="b29" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位30：</td>
		<td><select id="b30" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位31：</td>
		<td><select id="b31" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位32：</td>
		<td><select id="b32" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位33：</td>
		<td><select id="b33" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位34：</td>
		<td><select id="b34" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位35：</td>
		<td><select id="b35" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位36：</td>
		<td><select id="b36" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位37：</td>
		<td><select id="b37" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位38：</td>
		<td><select id="b38" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位39：</td>
		<td><select id="b39" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位40：</td>
		<td><select id="b40" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位41：</td>
		<td><select id="b41" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位42：</td>
		<td><select id="b42" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	<tr>
		<td width="10px"></td>
		<td style="width:65px">输出位43：</td>
		<td><select id="b43" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
			
		<td width="10px"></td>
		<td style="width:65px">输出位44：</td>
		<td><select id="b44" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位45：</td>
		<td><select id="b45" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位46：</td>
		<td><select id="b46" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位47：</td>
		<td><select id="b47" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
		
		<td width="10px"></td>
		<td style="width:65px">输出位48：</td>
		<td><select id="b48" style="width:50px">
			<option value="0">10</option>
			<option value="1">16</option>
        </select>（A）</td>
	</tr>
	
	<tr>
		<td width="10px"></td>
		<td width="65px"></td>
		<td width="50px"></td>
		<td width="10px"></td>
		<td width="65px"></td>
		<td width="50px"></td>
		<td width="10px"></td>
		<td width="65px"></td>
		<td width="50px"></td>
		<td width="10px"></td>
		<td width="65px"></td>
		<td width="50px"></td>
		<td width="10px"></td>
		<td width="65px"></td>
		<td width="50px"></td>
		<td width="10px"></td>
		<td width="65px"></td>
		<td ><input style="height:22px; width:60px;"  type="button"  onClick="setratedoutput();"  value="保存"></input></td>
	</tr>
	
</table>

</div>
	
</div>
</body>
</html>
